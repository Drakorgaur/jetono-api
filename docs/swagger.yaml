definitions:
  src.AccountDescription:
    properties:
      iat:
        type: integer
      iss:
        type: string
      jti:
        type: string
      name:
        type: string
      nats:
        properties:
          authorization:
            properties:
              auth_users: {}
            type: object
          default_permissions:
            properties:
              pub:
                additionalProperties: true
                type: object
              sub:
                additionalProperties: true
                type: object
            type: object
          limits:
            properties:
              conn:
                type: integer
              data:
                type: integer
              exports:
                type: integer
              imports:
                type: integer
              leaf:
                type: integer
              payload:
                type: integer
              subs:
                type: integer
              wildcards:
                type: boolean
            type: object
          type:
            type: string
          version:
            type: integer
        type: object
      sub:
        type: string
    type: object
  src.OperatorDescription:
    properties:
      iat:
        type: integer
      iss:
        type: string
      jti:
        type: string
      name:
        type: string
      nats:
        properties:
          type:
            type: string
          version:
            type: integer
        type: object
      sub:
        type: string
    type: object
  src.SimpleJSONResponse:
    properties:
      message:
        type: string
      status:
        type: string
    type: object
  src.UserDescription:
    properties:
      iat:
        type: integer
      iss:
        type: string
      jti:
        type: string
      name:
        type: string
      nats:
        properties:
          data:
            type: integer
          payload:
            type: integer
          pub:
            additionalProperties: true
            type: object
          sub:
            additionalProperties: true
            type: object
          subs:
            type: integer
          type:
            type: string
          version:
            type: integer
        type: object
      sub:
        type: string
    type: object
info:
  contact: {}
paths:
  /creds/operator/{operator}/account/{account}/user/{name}:
    get:
      parameters:
      - description: Username
        in: path
        name: name
        required: true
        type: string
      - description: Account name
        in: path
        name: account
        required: true
        type: string
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      responses:
        "200":
          description: Operators list
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: User was not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal error
          schema:
            type: string
      summary: Generate user credentials
      tags:
      - User
  /operator:
    post:
      description: Add an operator to the store
      parameters:
      - description: Operator name
        in: formData
        name: name
        required: true
        type: string
      - description: generate a signing key with the operator
        in: formData
        name: generate-signing-key
        type: boolean
      - description: generate system account with the operator (if specified will
          be signed with signing key)
        in: formData
        name: sys
        type: boolean
      - description: on import, overwrite existing when already present
        in: formData
        name: force
        type: boolean
      - description: 'valid from (''0'' is always, ''3d'' is three days) - yyyy-mm-dd,
          #m(inutes), #h(ours), #d(ays), #w(eeks), #M(onths), #y(ears)'
        in: formData
        name: start
        type: string
      - description: 'valid until (''0'' is always, ''2M'' is two months) - yyyy-mm-dd,
          #m(inutes), #h(ours), #d(ays), #w(eeks), #M(onths), #y(ears)'
        in: formData
        name: expiry
        type: string
      responses:
        "200":
          description: Operator added
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Add an operator
      tags:
      - Operator
  /operator/{name}:
    get:
      description: Returns json object with operator description
      parameters:
      - description: Operator name
        in: path
        name: name
        required: true
        type: string
      responses:
        "200":
          description: Operator description
          schema:
            $ref: '#/definitions/src.OperatorDescription'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Describes an operator
      tags:
      - Operator
    patch:
      description: Updates an operator and returns json with status ok if successful
      parameters:
      - description: Operator name
        in: path
        name: name
        required: true
        type: string
      - description: add tags for user - comma separated list or option can be specified
          multiple times
        in: formData
        name: tag
        type: string
      - description: remove tag - comma separated list or option can be specified
          multiple times
        in: formData
        name: rm-tag
        type: string
      - description: set account jwt server url for nsc sync (only http/https/nats
          urls supported if updating with nsc)
        in: formData
        name: account-jwt-server-url
        type: string
      - description: set system account by account by public key or name
        in: formData
        name: system-account
        type: string
      - description: add an operator service url - comma separated list or option
          can be specified multiple times
        in: formData
        name: service-url
        type: string
      - description: remove an operator service url - comma separated list or option
          can be specified multiple times
        in: formData
        name: rm-service-url
        type: string
      - description: require accounts/user to be signed with a signing key
        in: formData
        name: require-signing-keys
        type: string
      - description: clear account server url
        in: formData
        name: rm-account-jwt-server-url
        type: string
      responses:
        "200":
          description: Status ok
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Updates an operator
      tags:
      - Operator
  /operator/{operator}/account:
    post:
      description: Add an account with given operator to the store
      parameters:
      - description: Account name
        in: formData
        name: name
        required: true
        type: string
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      - description: 'the amount of time the default permission is valid (global)
          - [#ms(millis) | #s(econds) | m(inutes) | h(ours)] - Default is no time
          limit.'
        in: formData
        name: response-ttl
        type: string
      - description: '%s to limit how often a client can publish to reply subjects
          [with an optional count, --allow-pub-response=n] (global)'
        in: formData
        name: allow-pub-response
        type: string
      - description: add publish %s - comma separated list or option can be specified
          multiple times
        in: formData
        name: allow-pub
        type: string
      - description: add publish and subscribe %s - comma separated list or option
          can be specified multiple times
        in: formData
        name: allow-pubsub
        type: string
      - description: add subscribe %s - comma separated list or option can be specified
          multiple times
        in: formData
        name: allow-sub
        type: string
      - description: add deny publish %s - comma separated list or option can be specified
          multiple times
        in: formData
        name: deny-pub
        type: string
      - description: add deny publish and subscribe %s - comma separated list or option
          can be specified multiple times
        in: formData
        name: deny-pubsub
        type: string
      - description: add deny subscribe %s - comma separated list or option can be
          specified multiple times
        in: formData
        name: deny-sub
        type: string
      - description: 'valid from (''0'' is always, ''3d'' is three days) - yyyy-mm-dd,
          #m(inutes), #h(ours), #d(ays), #w(eeks), #M(onths), #y(ears)'
        in: formData
        name: start
        type: string
      - description: 'valid until (''0'' is always, ''2M'' is two months) - yyyy-mm-dd,
          #m(inutes), #h(ours), #d(ays), #w(eeks), #M(onths), #y(ears)'
        in: formData
        name: expiry
        type: string
      responses:
        "200":
          description: Account added
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Add an account
      tags:
      - Account
  /operator/{operator}/account/{account}/user:
    post:
      description: Add user with given operator and account to the store
      parameters:
      - description: Username
        in: formData
        name: name
        type: string
      - description: Account name
        in: path
        name: account
        type: string
      - description: Operator name
        in: path
        name: operator
        type: string
      responses:
        "200":
          description: User added
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Add user
      tags:
      - User
  /operator/{operator}/account/{account}/user/{name}:
    delete:
      description: Revokes a user
      parameters:
      - description: Username
        in: path
        name: name
        required: true
        type: string
      - description: Account name
        in: path
        name: account
        required: true
        type: string
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      responses:
        "200":
          description: Operator description
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal error
          schema:
            type: string
      summary: Revokes a user
      tags:
      - User
    get:
      description: Returns json object with user description
      parameters:
      - description: Username
        in: path
        name: name
        required: true
        type: string
      - description: Account name
        in: path
        name: account
        required: true
        type: string
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      responses:
        "200":
          description: Operator description
          schema:
            $ref: '#/definitions/src.UserDescription'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Describes user
      tags:
      - User
    patch:
      description: Updates an user and returns json with status ok if successful
      parameters:
      - description: Username
        in: path
        name: name
        required: true
        type: string
      - description: Account name
        in: path
        name: account
        required: true
        type: string
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      - description: add tags for user - comma separated list or option can be specified
          multiple times
        in: formData
        name: tag
        type: string
      - description: remove tag - comma separated list or option can be specified
          multiple times
        in: formData
        name: rm-tag
        type: string
      - description: 'valid from (''0'' is always, ''3d'' is three days) - yyyy-mm-dd,
          #m(inutes), #h(ours), #d(ays), #w(eeks), #M(onths), #y(ears)'
        in: formData
        name: start
        type: string
      - description: 'valid until (''0'' is always, ''2M'' is two months) - yyyy-mm-dd,
          #m(inutes), #h(ours), #d(ays), #w(eeks), #M(onths), #y(ears)'
        in: formData
        name: expiry
        type: string
      - description: '`add start-end time range of the form '
        in: formData
        name: time
        type: string
      - description: '`remove start-end time by start time '
        in: formData
        name: rm-time
        type: string
      - description: set the locale with which time values are interpreted
        in: formData
        name: locale
        type: string
      - description: add source network for connection - comma separated list or option
          can be specified multiple times
        in: formData
        name: source-network
        type: string
      - description: remove source network for connection - comma separated list or
          option can be specified multiple times
        in: formData
        name: rm-source-network
        type: string
      - description: "set\tallowed\tconnection\ttypes:\t%s\t%s\t%s\t%s\t%s\t%s\t-\tcomma\tseparated\tlist\tor\toption\tcan\tbe\tspecified\tmultiple\ttimes,
          jwt.ConnectionTypeLeafnode, jwt.ConnectionTypeMqtt, jwt.ConnectionTypeStandard,
          jwt.ConnectionTypeWebsocket, jwt.ConnectionTypeLeafnodeWS, jwt.ConnectionTypeMqttWS))"
        in: formData
        name: conn-type
        type: string
      - description: remove connection types - comma separated list or option can
          be specified multiple times
        in: formData
        name: rm-conn-type
        type: string
      - description: set maximum number of subscriptions (-1 is unlimited)
        in: formData
        name: subs
        type: string
      - description: set maximum data in bytes for the user (-1 is unlimited)
        in: formData
        name: data
        type: string
      - description: set maximum message payload in bytes for the account (-1 is unlimited)
        in: formData
        name: payload
        type: string
      - description: no connect challenge required for user
        in: formData
        name: bearer
        type: string
      - description: 'the amount of stime sthe s%s sis svalid s(global) - s[#ms(millis)
          | #s(econds) | m(inutes) | h(ours)] - sDefault sis no time limit., typeName))'
        in: formData
        name: response-ttl
        type: string
      - description: "%s to slimit how soften sa sclient scan spublish sto sreply
          ssubjects\t[with an optional count, --allow-pub-response=n] (global), typeName))"
        in: formData
        name: allow-pub-response
        type: string
      - description: add publish s%s s- scomma sseparated slist sor soption scan sbe
          sspecified smultiple stimes, typeName))
        in: formData
        name: allow-pub
        type: string
      - description: "add publish sand ssubscribe s%s s- scomma sseparated slist sor
          soption scan sbe sspecified\tmultiple stimes, typeName))"
        in: formData
        name: allow-pubsub
        type: string
      - description: add subscribe s%s s- scomma sseparated slist sor soption scan
          sbe sspecified multiple stimes, typeName))
        in: formData
        name: allow-sub
        type: string
      - description: "add deny spublish s%s s- scomma sseparated slist sor soption
          scan sbe sspecified smultiple\ttimes, typeName))"
        in: formData
        name: deny-pub
        type: string
      - description: add deny spublish sand ssubscribe s%s s- scomma sseparated slist
          sor soption scan sbe sspecified multiple times, typeName))
        in: formData
        name: deny-pubsub
        type: string
      - description: "add deny ssubscribe s%s s- scomma sseparated slist sor soption
          scan sbe sspecified smultiple\ttimes, typeName))"
        in: formData
        name: deny-sub
        type: string
      - description: remove sresponse ssettings sfrom s%s, typeName))
        in: formData
        name: rm-response-perms
        type: string
      - description: "remove spublish/subscribe sand sdeny s%s - comma separated\tlist
          or\toption can be specified multiple times, typeName))"
        in: formData
        name: rm
        type: string
      responses:
        "200":
          description: Status ok
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Updates an user
      tags:
      - User
  /operator/{operator}/account/{account}/users:
    get:
      description: Returns json list of existing users for given operator's account
      parameters:
      - description: Account name
        in: path
        name: account
        required: true
        type: string
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      responses:
        "200":
          description: List of users for given operator's account
          schema:
            items:
              type: string
            type: array
        "500":
          description: Internal error
          schema:
            type: string
      summary: List users
      tags:
      - User
  /operator/{operator}/account/{name}:
    get:
      description: Returns json object with account description
      parameters:
      - description: Account name
        in: path
        name: name
        required: true
        type: string
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      responses:
        "200":
          description: Operator description
          schema:
            $ref: '#/definitions/src.AccountDescription'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Describes an account
      tags:
      - Account
    patch:
      description: Updates an account and returns json with status ok if successful
      parameters:
      - description: Account name
        in: path
        name: name
        required: true
        type: string
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      - description: add tags for user - comma separated list or option can be specified
          multiple times
        in: formData
        name: tag
        type: string
      - description: remove tag - comma separated list or option can be specified
          multiple times
        in: formData
        name: rm-tag
        type: string
      - description: set maximum active connections for the account (-1 is unlimited)
        in: formData
        name: conns
        type: string
      - description: set maximum active leaf node connections for the account (-1
          is unlimited)
        in: formData
        name: leaf-conns
        type: string
      - description: set maximum data in bytes for the account (-1 is unlimited)
        in: formData
        name: data
        type: string
      - description: set maximum number of exports for the account (-1 is unlimited)
        in: formData
        name: exports
        type: string
      - description: set maximum number of imports for the account (-1 is unlimited)
        in: formData
        name: imports
        type: string
      - description: set maximum message payload in bytes for the account (-1 is unlimited)
        in: formData
        name: payload
        type: string
      - description: set maximum subscription for the account (-1 is unlimited)
        in: formData
        name: subscriptions
        type: string
      - description: exports can contain wildcards
        in: formData
        name: wildcard-exports
        type: string
      - description: require user jwt to not be bearer token
        in: formData
        name: disallow-bearer
        type: string
      - description: remove signing key - comma separated list or option can be specified
          multiple times
        in: formData
        name: rm-sk
        type: string
      - description: Description for this account
        in: formData
        name: description
        type: string
      - description: Link for more info on this account
        in: formData
        name: info-url
        type: string
      - description: 'JetStream: replication tier (0 creates a configuration that
          applies to all assets) '
        in: formData
        name: js-tier
        type: string
      - description: 'JetStream: remove replication limits for the specified tier
          (0 is the global tier) this flag is exclusive of all other js flags'
        in: formData
        name: rm-js-tier
        type: string
      - description: 'JetStream: set maximum memory storage in bytes for the account
          (-1 is unlimited / 0 disabled) (units: k/m/g/t kib/mib/gib/tib)'
        in: formData
        name: js-mem-storage
        type: string
      - description: 'JetStream: set maximum disk storage in bytes for the account
          (-1 is unlimited / 0 disabled) (units: k/m/g/t kib/mib/gib/tib)'
        in: formData
        name: js-disk-storage
        type: string
      - description: 'JetStream: set maximum streams for the account (-1 is unlimited)'
        in: formData
        name: js-streams
        type: string
      - description: 'JetStream: set maximum consumer for the account (-1 is unlimited)'
        in: formData
        name: js-consumer
        type: string
      - description: 'JetStream: set maximum size of a memory stream for the account
          (-1 is unlimited / 0 disabled) (units: k/m/g/t kib/mib/gib/tib)'
        in: formData
        name: js-max-mem-stream
        type: string
      - description: 'JetStream: set maximum size of a disk stream for the account
          (-1 is unlimited / 0 disabled) (units: k/m/g/t kib/mib/gib/tib)'
        in: formData
        name: js-max-disk-stream
        type: string
      - description: 'JetStream: set whether max stream is required when creating
          a stream'
        in: formData
        name: js-max-bytes-required
        type: string
      - description: 'JetStream: set number of maximum acks that can be pending for
          a consumer in the account'
        in: formData
        name: js-max-ack-pending
        type: string
      - description: account to edit
        in: formData
        name: name
        type: string
      - description: disables all JetStream limits in the account by deleting any
          limits
        in: formData
        name: js-disable
        type: string
      responses:
        "200":
          description: Status ok
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Updates an account
      tags:
      - Account
  /operator/{operator}/accounts:
    get:
      description: Returns json list of existing accounts for given operator
      parameters:
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      responses:
        "200":
          description: Operator's accounts list
          schema:
            items:
              type: string
            type: array
        "500":
          description: Internal error
          schema:
            type: string
      summary: List accounts
      tags:
      - Account
  /operators:
    get:
      description: Returns json list of existing operators
      responses:
        "200":
          description: Operators list
          schema:
            items:
              type: string
            type: array
        "500":
          description: Internal error
          schema:
            type: string
      summary: List operators
      tags:
      - Operator
swagger: "2.0"
