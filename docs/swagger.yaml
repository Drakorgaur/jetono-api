definitions:
  src.AccountDescription:
    properties:
      iat:
        type: integer
      iss:
        type: string
      jti:
        type: string
      name:
        type: string
      nats:
        properties:
          authorization:
            properties:
              auth_users: {}
            type: object
          default_permissions:
            properties:
              pub:
                additionalProperties: true
                type: object
              sub:
                additionalProperties: true
                type: object
            type: object
          limits:
            properties:
              conn:
                type: integer
              data:
                type: integer
              exports:
                type: integer
              imports:
                type: integer
              leaf:
                type: integer
              payload:
                type: integer
              subs:
                type: integer
              wildcards:
                type: boolean
            type: object
          type:
            type: string
          version:
            type: integer
        type: object
      sub:
        type: string
    type: object
  src.OperatorDescription:
    properties:
      iat:
        type: integer
      iss:
        type: string
      jti:
        type: string
      name:
        type: string
      nats:
        properties:
          type:
            type: string
          version:
            type: integer
        type: object
      sub:
        type: string
    type: object
  src.SimpleJSONResponse:
    properties:
      message:
        type: string
      status:
        type: string
    type: object
  src.UserDescription:
    properties:
      iat:
        type: integer
      iss:
        type: string
      jti:
        type: string
      name:
        type: string
      nats:
        properties:
          data:
            type: integer
          payload:
            type: integer
          pub:
            additionalProperties: true
            type: object
          sub:
            additionalProperties: true
            type: object
          subs:
            type: integer
          type:
            type: string
          version:
            type: integer
        type: object
      sub:
        type: string
    type: object
  src.addAccountForm:
    properties:
      allow_pub:
        type: string
      allow_pub_response:
        type: string
      allow_pubsub:
        type: string
      allow_sub:
        type: string
      deny_pub:
        type: string
      deny_pubsub:
        type: string
      deny_sub:
        type: string
      expiry:
        type: string
      name:
        type: string
      response_ttl:
        type: string
      start:
        type: string
    type: object
  src.addOperatorForm:
    properties:
      expiry:
        type: string
      force:
        type: boolean
      generate_signing_key:
        type: boolean
      name:
        type: string
      start:
        type: string
      sys:
        type: boolean
    required:
    - name
    type: object
  src.updateAccountForm:
    properties:
      conns:
        type: string
      data:
        type: string
      description:
        type: string
      disallow_bearer:
        type: boolean
      exports:
        type: string
      imports:
        type: string
      info_url:
        type: string
      js_consumer:
        type: string
      js_disk_storage:
        type: string
      js_max_ack_pending:
        type: string
      js_max_bytes_required:
        type: string
      js_max_disk_stream:
        type: string
      js_max_mem_stream:
        type: string
      js_mem_storage:
        type: string
      js_streams:
        type: string
      js_tier:
        type: string
      leaf_conns:
        type: string
      payload:
        type: string
      rm_js_tier:
        type: string
      rm_sk:
        type: string
      rm_tag:
        type: string
      subscriptions:
        type: string
      tag:
        type: string
      wildcard_exports:
        type: boolean
    type: object
  src.updateOperatorForm:
    properties:
      account_jwt_server_url:
        type: string
      require_signing_keys:
        type: boolean
      rm_account_jwt_server_url:
        type: string
      rm_service_url:
        type: string
      rm_tag:
        type: string
      service_url:
        type: string
      system_account:
        type: string
      tag:
        type: string
    type: object
  storage.AccountServerMap:
    properties:
      account:
        type: string
      operator:
        type: string
      servers:
        type: string
    type: object
info:
  contact: {}
paths:
  /bind:
    get:
      description: Returns json object with context
      parameters:
      - description: Account name
        in: query
        name: account
        required: true
        type: string
      - description: Operator name
        in: query
        name: operator
        required: true
        type: string
      responses:
        "200":
          description: Operator description
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal error
          schema:
            type: string
      summary: read context bound to account
      tags:
      - Account
    post:
      description: Returns json with confirmation
      parameters:
      - description: json
        in: body
        name: json
        required: true
        schema:
          $ref: '#/definitions/storage.AccountServerMap'
      responses:
        "200":
          description: Operator description
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal error
          schema:
            type: string
      summary: Bind context to account
      tags:
      - Account
  /creds/operator/{operator}/account/{account}/user/{name}:
    get:
      parameters:
      - description: Username
        in: path
        name: name
        required: true
        type: string
      - description: Account name
        in: path
        name: account
        required: true
        type: string
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      responses:
        "200":
          description: Operators list
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: User was not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal error
          schema:
            type: string
      summary: Generate user credentials
      tags:
      - User
  /operator:
    post:
      description: Add an operator to the store
      parameters:
      - description: request body
        in: body
        name: json
        required: true
        schema:
          $ref: '#/definitions/src.addOperatorForm'
      responses:
        "200":
          description: Operator added
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Add an operator
      tags:
      - Operator
  /operator/{name}:
    get:
      description: Returns json object with operator description
      parameters:
      - description: Operator name
        in: path
        name: name
        required: true
        type: string
      responses:
        "200":
          description: Operator description
          schema:
            $ref: '#/definitions/src.OperatorDescription'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Describes an operator
      tags:
      - Operator
    patch:
      description: Updates an operator and returns json with status ok if successful
      parameters:
      - description: Operator name
        in: path
        name: name
        required: true
        type: string
      - description: request body
        in: body
        name: json
        required: true
        schema:
          $ref: '#/definitions/src.updateOperatorForm'
      responses:
        "200":
          description: Status ok
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Updates an operator
      tags:
      - Operator
  /operator/{operator}/account:
    post:
      description: Add an account with given operator to the store
      parameters:
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      - description: Account data in json format
        in: body
        name: json
        required: true
        schema:
          $ref: '#/definitions/src.addAccountForm'
      responses:
        "200":
          description: Account added
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Add an account
      tags:
      - Account
  /operator/{operator}/account/{account}/user:
    post:
      description: Add user with given operator and account to the store
      parameters:
      - description: Username
        in: formData
        name: name
        type: string
      - description: Account name
        in: path
        name: account
        type: string
      - description: Operator name
        in: path
        name: operator
        type: string
      responses:
        "200":
          description: User added
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Add user
      tags:
      - User
  /operator/{operator}/account/{account}/user/{name}:
    delete:
      description: Revokes a user
      parameters:
      - description: Username
        in: path
        name: name
        required: true
        type: string
      - description: Account name
        in: path
        name: account
        required: true
        type: string
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      responses:
        "200":
          description: Operator description
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal error
          schema:
            type: string
      summary: Revokes a user
      tags:
      - User
    get:
      description: Returns json object with user description
      parameters:
      - description: Username
        in: path
        name: name
        required: true
        type: string
      - description: Account name
        in: path
        name: account
        required: true
        type: string
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      responses:
        "200":
          description: Operator description
          schema:
            $ref: '#/definitions/src.UserDescription'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Describes user
      tags:
      - User
    patch:
      description: Updates an user and returns json with status ok if successful
      parameters:
      - description: Username
        in: path
        name: name
        required: true
        type: string
      - description: Account name
        in: path
        name: account
        required: true
        type: string
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      - description: add tags for user - comma separated list or option can be specified
          multiple times
        in: formData
        name: tag
        type: string
      - description: remove tag - comma separated list or option can be specified
          multiple times
        in: formData
        name: rm-tag
        type: string
      - description: 'valid from (''0'' is always, ''3d'' is three days) - yyyy-mm-dd,
          #m(inutes), #h(ours), #d(ays), #w(eeks), #M(onths), #y(ears)'
        in: formData
        name: start
        type: string
      - description: 'valid until (''0'' is always, ''2M'' is two months) - yyyy-mm-dd,
          #m(inutes), #h(ours), #d(ays), #w(eeks), #M(onths), #y(ears)'
        in: formData
        name: expiry
        type: string
      - description: '`add start-end time range of the form '
        in: formData
        name: time
        type: string
      - description: '`remove start-end time by start time '
        in: formData
        name: rm-time
        type: string
      - description: set the locale with which time values are interpreted
        in: formData
        name: locale
        type: string
      - description: add source network for connection - comma separated list or option
          can be specified multiple times
        in: formData
        name: source-network
        type: string
      - description: remove source network for connection - comma separated list or
          option can be specified multiple times
        in: formData
        name: rm-source-network
        type: string
      - description: "set\tallowed\tconnection\ttypes:\t%s\t%s\t%s\t%s\t%s\t%s\t-\tcomma\tseparated\tlist\tor\toption\tcan\tbe\tspecified\tmultiple\ttimes,
          jwt.ConnectionTypeLeafnode, jwt.ConnectionTypeMqtt, jwt.ConnectionTypeStandard,
          jwt.ConnectionTypeWebsocket, jwt.ConnectionTypeLeafnodeWS, jwt.ConnectionTypeMqttWS))"
        in: formData
        name: conn-type
        type: string
      - description: remove connection types - comma separated list or option can
          be specified multiple times
        in: formData
        name: rm-conn-type
        type: string
      - description: set maximum number of subscriptions (-1 is unlimited)
        in: formData
        name: subs
        type: string
      - description: set maximum data in bytes for the user (-1 is unlimited)
        in: formData
        name: data
        type: string
      - description: set maximum message payload in bytes for the account (-1 is unlimited)
        in: formData
        name: payload
        type: string
      - description: no connect challenge required for user
        in: formData
        name: bearer
        type: boolean
      - description: 'the amount of stime sthe s%s sis svalid s(global) - s[#ms(millis)
          | #s(econds) | m(inutes) | h(ours)] - sDefault sis no time limit., typeName))'
        in: formData
        name: response-ttl
        type: string
      - description: "%s to slimit how soften sa sclient scan spublish sto sreply
          ssubjects\t[with an optional count, --allow-pub-response=n] (global), typeName))"
        in: formData
        name: allow-pub-response
        type: string
      - description: add publish s%s s- scomma sseparated slist sor soption scan sbe
          sspecified smultiple stimes, typeName))
        in: formData
        name: allow-pub
        type: string
      - description: "add publish sand ssubscribe s%s s- scomma sseparated slist sor
          soption scan sbe sspecified\tmultiple stimes, typeName))"
        in: formData
        name: allow-pubsub
        type: string
      - description: add subscribe s%s s- scomma sseparated slist sor soption scan
          sbe sspecified multiple stimes, typeName))
        in: formData
        name: allow-sub
        type: string
      - description: "add deny spublish s%s s- scomma sseparated slist sor soption
          scan sbe sspecified smultiple\ttimes, typeName))"
        in: formData
        name: deny-pub
        type: string
      - description: add deny spublish sand ssubscribe s%s s- scomma sseparated slist
          sor soption scan sbe sspecified multiple times, typeName))
        in: formData
        name: deny-pubsub
        type: string
      - description: "add deny ssubscribe s%s s- scomma sseparated slist sor soption
          scan sbe sspecified smultiple\ttimes, typeName))"
        in: formData
        name: deny-sub
        type: string
      - description: remove sresponse ssettings sfrom s%s, typeName))
        in: formData
        name: rm-response-perms
        type: string
      - description: "remove spublish/subscribe sand sdeny s%s - comma separated\tlist
          or\toption can be specified multiple times, typeName))"
        in: formData
        name: rm
        type: string
      responses:
        "200":
          description: Status ok
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Updates an user
      tags:
      - User
  /operator/{operator}/account/{account}/users:
    get:
      description: Returns json list of existing users for given operator's account
      parameters:
      - description: Account name
        in: path
        name: account
        required: true
        type: string
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      responses:
        "200":
          description: List of users for given operator's account
          schema:
            items:
              type: string
            type: array
        "500":
          description: Internal error
          schema:
            type: string
      summary: List users
      tags:
      - User
  /operator/{operator}/account/{name}:
    get:
      description: Returns json object with account description
      parameters:
      - description: Account name
        in: path
        name: name
        required: true
        type: string
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      responses:
        "200":
          description: Operator description
          schema:
            $ref: '#/definitions/src.AccountDescription'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Describes an account
      tags:
      - Account
    patch:
      description: Updates an account and returns json with status ok if successful
      parameters:
      - description: Account name
        in: path
        name: name
        required: true
        type: string
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      - description: Account data in json format
        in: body
        name: json
        required: true
        schema:
          $ref: '#/definitions/src.updateAccountForm'
      responses:
        "200":
          description: Status ok
          schema:
            $ref: '#/definitions/src.SimpleJSONResponse'
        "500":
          description: Internal error
          schema:
            type: string
      summary: Updates an account
      tags:
      - Account
  /operator/{operator}/accounts:
    get:
      description: Returns json list of existing accounts for given operator
      parameters:
      - description: Operator name
        in: path
        name: operator
        required: true
        type: string
      responses:
        "200":
          description: Operator's accounts list
          schema:
            items:
              type: string
            type: array
        "500":
          description: Internal error
          schema:
            type: string
      summary: List accounts
      tags:
      - Account
  /operators:
    get:
      description: Returns json list of existing operators
      responses:
        "200":
          description: Operators list
          schema:
            items:
              type: string
            type: array
        "500":
          description: Internal error
          schema:
            type: string
      summary: List operators
      tags:
      - Operator
swagger: "2.0"
